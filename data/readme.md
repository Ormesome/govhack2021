# Data

## Contents

This folder contains the data used and generated by the project.

## Analysis

Initial analysis shows that matching occupations based on core competencies with disregard for the score makes a *DBA* a perfect match for a *Zoologist*.

```sql
WITH cte_coreCompetencies AS
(
  select od.ANZSCOCode, cc.coreCompetencies, cc.Score 
  from nsc.occupationDescriptions od 
    inner join nsc.coreCompetencies cc on od.ANZSCOCode  = cc.ANZSCOCode 
  where od.ANZSCOTitle  like '%database%'
)
select od.ANZSCOTitle, count(cc.CoreCompetencies) score
from nsc.occupationDescriptions od 
  inner join nsc.coreCompetencies cc on od.ANZSCOCode  = cc.ANZSCOCode 
  inner join cte_coreCompetencies h on h.coreCompetencies = cc.coreCompetencies
group by od.ANZSCOTitle
order by score desc, ANZSCOTitle desc
```

Taking into account the core competencies and the score matches a *DBA* with *Financial Investment Manager* and *Laboratory Manager* which is good enough for school career or long term unemployed guidance.

```sql
WITH cte_coreCompetencies AS
(
  select od.ANZSCOCode, cc.coreCompetencies, cc.Score 
  from nsc.occupationDescriptions od 
    inner join nsc.coreCompetencies cc on od.ANZSCOCode  = cc.ANZSCOCode 
  where od.ANZSCOTitle  like '%database%'
)
select od.ANZSCOTitle, sum(h.score * cc.score) score
from nsc.occupationDescriptions od 
  inner join nsc.coreCompetencies cc on od.ANZSCOCode  = cc.ANZSCOCode 
  inner join cte_coreCompetencies h on h.coreCompetencies = cc.coreCompetencies and h.score = cc.score
group by od.ANZSCOTitle
order by score desc, ANZSCOTitle desc
```

To really provide benefit to the employed ot recently unemployed it is best to match based on the specialist tasks, which matches a *DBA* with *Software Engineer* and *Network Analyst*.

```sql
WITH cte_specialistTasks AS
(
  select od.ANZSCOCode, st.SpecialistTask 
  from nsc.occupationDescriptions od 
    inner join nsc.specialistTasks st on od.ANZSCOCode = st.ANZSCOCode 
  where od.ANZSCOTitle  like '%database%'
)
select od.ANZSCOTitle, count(st.SpecialistTask) score
from nsc.occupationDescriptions od 
  inner join nsc.specialistTasks st on od.ANZSCOCode  = st.ANZSCOCode 
  inner join cte_specialistTasks h on h.SpecialistTask = st.SpecialistTask
group by od.ANZSCOTitle
order by score desc, ANZSCOTitle desc
```

d